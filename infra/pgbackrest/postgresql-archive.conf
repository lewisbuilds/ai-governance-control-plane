# PostgreSQL archive configuration for pgBackRest
# These settings enable WAL archiving to pgBackRest

# Enable WAL archiving
archive_mode = on
archive_command = 'pgbackrest --stanza=mcpgov archive-push %p'

# Archive timeout (force WAL switch after this time)
archive_timeout = 60

# WAL settings for better backup performance
wal_level = replica
max_wal_senders = 3
wal_keep_size = 1024

# Restore settings
restore_command = 'pgbackrest --stanza=mcpgov archive-get %f "%p"'
